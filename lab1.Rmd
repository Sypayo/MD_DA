```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
#Лабораторная работа 1

##Исходные данные

Экспоненциальное распределение определяется следующей функцией распределения:
  
```{r}
F(x) = 1 - e^(-?????x)
```

Функция rexp генерирует случайные переменные при помощи экспоненциального распределения rexp(n=42, rate=5) вернёт 42 экспоненциально-распределённых числа с параметром (??) равным 5. Ели второй аргумент не указан, будет использовано значение 1 т.е. получим "стандартное экспоненциальное распределение".

##Задание 1

1. Сгенерируйте 200 случайных значений из стандартного экспоненциального распределения и сохраните в вектор exp.1. Найдите среднее и стандартное отклонение из данных этого вектора.

```{r}
lambda.values<-c(1, 0.1, 0.5, 5, 10)
exp.1 <- c(rexp(n = 200))
mean(exp.1) 
sd(exp.1)
```

2. Повторите, использовав следующие значения параметра ??: 0.1, 0.5, 5, 10, и сохраните результаты в векторы: exp.0.1, exp.0.5, exp.5, exp.10.

```{r}
exp.0.1<-c(rexp(n=200, rate=0.1))
mean(exp.0.1) 
sd(exp.0.1)
exp.0.5<-c(rexp(n=200, rate=0.5))
mean(exp.0.5) 
sd(exp.0.5)
exp.5<-c(rexp(n=200, rate=5))
mean(exp.5) 
sd(exp.5)
exp.10<-c(rexp(n=200, rate=10))
mean(exp.10)
sd(exp.10)
```

3. Функция plot() общая функция для визуализации данных. Функция hist() принимает данные и раскладывает их по корзинам. Чтобы использовать эти функции нужно для начала передать им данные, которые хотим визуализировать.
4. Используйте функцию hist() для построения гистограммы полученного ранее стандартного распределения.

```{r}
hist(exp.1)
```
![](//Rplot.png/150x100)

5.Используйте функцию plot() с тем же самым вектором для построения графика значений в порядке следования.
```{r}
plot(exp.1)
```
![](//Rplot06.png/150x100)

6.Используйте функцию plot() с любыми двумя полученными ранее векторами, чтобы получить диаграмму рассеяния (scatterplot) этих векторов относительно друг друга.
```{r}
plot(exp.0.1, exp.5)
```
![](//Rplot07.png/150x100)
7. Теперь сравним свойства всех наших векторов. Для начала создадим вектор, содержащий средние значения каждого из 5 полученных ранее распределений в порядке их создания. Полученный вектор сохраним в переменную exp.means. Далее необходимо создать следующие диаграммы рассеяния:

```{r}
exp.means <- c(mean(exp.1), mean(exp.0.1), mean(exp.0.5), mean(exp.5), mean(exp.10))
```
8. Вектор с пятью средними относительно каждого из пяти векторов с различными значениями ??.
```{r}
plot(lambda.values, exp.means)
grid(col="green")
```
![](//Rplot01_0.png/150x100)
9. Вектор с пятью стандартными отклонениями относительно каждого из пяти векторов с различными значениями ??.
```{r}
exp.sds <- c(sd(exp.1), sd(exp.0.1), sd(exp.0.5), sd(exp.5), sd(exp.10))
plot(lambda.values, exp.sds)
grid (col = "green")
```
![](//Rplot01.png/150x100)

10.Вектор с пятью средними относительно вектора с пятью стандартными отклонениями.
```{r}
plot(exp.means, exp.sds)
grid (col = "green") 
```
![](//Rplot02.png/150x100)

###Вывод
Среднее и стандартное отклонения экспоненциального распределения уменьшаются с увелечением значения лямбда, а также имеют прямую линейную зависимость между друг другом.

##Задание 2
R достаточно производителен, чтобы вычислять относительно большие объёмы данных.

Для демонстрации сгенерируйте 1100000 (1 млн. 100 тысяч) чисел из стандартного экспоненциального распределения и сохраните их в вектор huge.exp.1. Получите среднее и стандартное отклонение.

```{r}
huge.exp.1 <- c(rexp(n = 1100000))
mean(huge.exp.1)
sd(huge.exp.1)
```

Получите гистограмму huge.exp.1. Она соответствует функции 1 - e:^(-x)? Должна ли?
```{r}
hist(huge.exp.1)
```
  ![](//Rplot03.png/150x100)
Да, соответстует, т.к. вектор был получен функцией для задания стандартного экпоненциального отклонения.

Получите среднее всех чисел из huge.exp.1 строго больших 1. Для проверки выборки может потребоваться новый вектор.
  
```{r}
huge.exp.1.biggerThanOne <- mean(huge.exp.1[huge.exp.1 > 1])
huge.exp.1.biggerThanOne
```

Получите матрицу huge.exp.1.mat, содержащую 1100 строк и 1000 колонок. Постройте гистограмму, использовав полученную матрицу. Что можно сказать о полученных данных?

```{r}
huge.exp.1.mat<-matrix(huge.exp.1, 1100, 1000)
hist(huge.exp.1.mat)
```
![](//Rplot04.png/150x100)

Данная гистограмма соответсвует гистограмме экспоненциального распределения.

Рассчитайте среднее 137-й колонки из huge.exp.1.mat.

```{r}
mean(huge.exp.1.mat[,137])
[1] 0.9640036
```

Найдите среднее всей 1000 колонок и сохраните их в вектор. Отобразите диаграмму средних зннчений колонок. Объясните почему форма диаграммы отличается от виденных ранее.

```{r}
huge.exp.1.mat_means <- colMeans(huge.exp.1.mat)
hist(huge.exp.1.mat_means)
```
![](//Rplot05.png/150x100)

Потому что в данном случае мы работаем со средними значениями.

Рассчитайте квадрат каждого значения из huge.exp.1 и найдите среднее и стандартное отклонение полученного вектора квадратов. Объясните отличие от соответствующих показателей вектора huge.exp.1. Вам может помочь формула, по которой R рассчитывает стандартное отклонение: sqrt(sum((x - mean(x))^2) / (n - 1)).

```{r}
huge.exp.1.sq <- huge.exp.1 ^ 2
huge.exp.1.sq_mean <- mean(huge.exp.1.sq)
huge.exp.1.sq_sd <- sd(huge.exp.1.sq)
huge.exp.1.sq_mean
huge.exp.1.sq_sd
```
Среднее и стандартное отклонения увеличиваются с увеличением значений вектора.
Стандартное растет быстрее из-за второй степени в формуле.
