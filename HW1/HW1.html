<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1251"><meta name="viewport" content="width=device-width"><title>file:///C:/Users/%D0%9C%D0%B0%D0%BA%D1%81%D0%B8%D0%BC/Desktop/MD_DA-master/HW1/HW1.html</title><link rel="stylesheet" type="text/css" href="resource://content-accessible/viewsource.css"></head><body id="viewsource" class="highlight" style="-moz-tab-size: 4" contextmenu="actions"><pre id="line1"><span># Домашнее задание №1, Козарев М.Ю. РИ-45005
<span id="line2"></span>## Работа с данными.
<span id="line3"></span>По адресу http://people.math.umass.edu/~anna/Stat597AFall2016/rnf6080.dat можно получить набор данных об осадках в Канаде с 1960 по 1980 годы. Необходимо загрузить эти данные при помощи read.table. Воспользуйтесь справкой, чтобы изучить аргументы, которые принимает функция.
<span id="line4"></span>
<span id="line5"></span>1. Загрузите данные в датафрейм, который назовите data.df.
<span id="line6"></span>
<span id="line7"></span>```
<span id="line8"></span>&gt; data.df </span><span class="error" title="Некорректный символ после «&lt;». Вероятная причина: Неэкранированный «&lt;». Попробуйте экранировать его как «&amp;lt;».">&lt;-</span><span> data.frame(read.table("http://people.math.umass.edu/~anna/Stat597AFall2016/rnf6080.dat"))
<span id="line9"></span>```
<span id="line10"></span>
<span id="line11"></span>2. Сколько строк и столбцов в data.df? Если получилось не 5070 наблюдений 27 переменных, то проверяйте аргументы.
<span id="line12"></span>
<span id="line13"></span>```
<span id="line14"></span>&gt; length(data.df)
<span id="line15"></span>[1] 27
<span id="line16"></span>&gt; nrow(data.df)
<span id="line17"></span>[1] 5070
<span id="line18"></span>```
<span id="line19"></span>
<span id="line20"></span>3. Получите имена колонок из data.df.
<span id="line21"></span>```
<span id="line22"></span>&gt; colnames(data.df)
<span id="line23"></span> [1] "V1"  "V2"  "V3"  "V4"  "V5"  "V6"  "V7"  "V8"  "V9"  "V10" "V11" "V12"
<span id="line24"></span>[13] "V13" "V14" "V15" "V16" "V17" "V18" "V19" "V20" "V21" "V22" "V23" "V24"
<span id="line25"></span>[25] "V25" "V26" "V27"
<span id="line26"></span> ```
<span id="line27"></span> 
<span id="line28"></span> 4. Найдите значение из 5 строки седьмого столбца.
<span id="line29"></span> ```
<span id="line30"></span> &gt; data.df[5, 7]
<span id="line31"></span>[1] 0
<span id="line32"></span>```
<span id="line33"></span>
<span id="line34"></span>5. Напечатайте целиком 2 строку из data.df
<span id="line35"></span>
<span id="line36"></span>```
<span id="line37"></span>&gt; data.df[2, ]
<span id="line38"></span>  V1 V2 V3 V4 V5 V6 V7 V8 V9 V10 V11 V12 V13 V14 V15 V16 V17 V18 V19 V20 V21 V22 V23 V24
<span id="line39"></span>2 60  4  2  0  0  0  0  0  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
<span id="line40"></span>  V25 V26 V27
<span id="line41"></span>2   0   0   0
<span id="line42"></span>```
<span id="line43"></span>
<span id="line44"></span>6. Объясните, что делает следующая строка кода names(data.df) </span><span class="error" title="Некорректный символ после «&lt;». Вероятная причина: Неэкранированный «&lt;». Попробуйте экранировать его как «&amp;lt;».">&lt;-</span><span> c("year", "month", "day", seq(0,23)). Воспользуйтесь функциями head и tail, чтобы просмотреть таблицу. Что представляют собой последние 24 колонки? 
<span id="line45"></span>### Добавляет в переменную data.df вектор names, содержащий "year", "month", "day" и последовательность от 0 до 23. 
<span id="line46"></span>
<span id="line47"></span>```
<span id="line48"></span>&gt; head(data.df)
<span id="line49"></span>  year month day 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
<span id="line50"></span>1   60     4   1 0 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
<span id="line51"></span>2   60     4   2 0 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
<span id="line52"></span>3   60     4   3 0 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
<span id="line53"></span>4   60     4   4 0 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
<span id="line54"></span>5   60     4   5 0 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
<span id="line55"></span>6   60     4   6 0 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
<span id="line56"></span>&gt; tail(data.df)
<span id="line57"></span>     year month day 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
<span id="line58"></span>5065   80    11  25 0 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
<span id="line59"></span>5066   80    11  26 0 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
<span id="line60"></span>5067   80    11  27 0 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
<span id="line61"></span>5068   80    11  28 0 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
<span id="line62"></span>5069   80    11  29 0 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
<span id="line63"></span>5070   80    11  30 0 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
<span id="line64"></span>```
<span id="line65"></span>
<span id="line66"></span>### Последние 24-колонки это 24 часа суток. 
<span id="line67"></span>
<span id="line68"></span>7. Добавьте новую колонку с названием daily, в которую запишите сумму крайних правых 24 колонок. Постройте гистограмму по этой колонке. Какие выводы можно сделать?
<span id="line69"></span>
<span id="line70"></span>```
<span id="line71"></span>&gt; data.df["daily"] </span><span class="error" title="Некорректный символ после «&lt;». Вероятная причина: Неэкранированный «&lt;». Попробуйте экранировать его как «&amp;lt;».">&lt;-</span><span> rowSums(data.df[(length(colnames(data.df))-23):(length(colnames(data.df)))])
<span id="line72"></span>&gt; hist(data.df$daily)
<span id="line73"></span>```
<span id="line74"></span>
<span id="line75"></span>8. Создайте новый датафрейм fixed.df в котром исправьте замеченную ошибку. Постройте новую гистограмму, поясните почему она более корректна.
<span id="line76"></span>
<span id="line77"></span>```
<span id="line78"></span>&gt; fixed.df("daily") </span><span class="error" title="Некорректный символ после «&lt;». Вероятная причина: Неэкранированный «&lt;». Попробуйте экранировать его как «&amp;lt;».">&lt;-</span><span> abs(fixed.df("daily"))
<span id="line79"></span>&gt; hist(fixed.df)
<span id="line80"></span>```
<span id="line81"></span>
<span id="line82"></span>### В изначальной гистограмме по OX были отрицательные значения, чего быть не может. 
<span id="line83"></span>
<span id="line84"></span># Синтаксис и типизирование
<span id="line85"></span>
<span id="line86"></span>1. Для каждой строки кода поясните полученный результат, либо объясните почему она ошибочна.
<span id="line87"></span>
<span id="line88"></span>```
<span id="line89"></span>v </span><span class="error" title="Некорректный символ после «&lt;». Вероятная причина: Неэкранированный «&lt;». Попробуйте экранировать его как «&amp;lt;».">&lt;-</span><span> c("4", "8", "15", "16", "23", "42")
<span id="line90"></span>&gt; max(v)
<span id="line91"></span>[1] "8"
<span id="line92"></span>&gt; sort(v)
<span id="line93"></span>[1] "15" "16" "23" "4"  "42" "8" 
<span id="line94"></span>&gt; sum(v)
<span id="line95"></span>Error in sum(v) : invalid 'type' (character) of argument
<span id="line96"></span>```
<span id="line97"></span>
<span id="line98"></span>### Из-за того, что вектор v содержит значения типа символьного, а не численного, неверно производится сортировка и поиск максимального числа. А сумма не выводится вовсе по той же причине. 
<span id="line99"></span>
<span id="line100"></span>2. Для следующих наборов команд поясните полученный результат, либо объясните почему они ошибочна.
<span id="line101"></span>
<span id="line102"></span>```
<span id="line103"></span>&gt; v2 </span><span class="error" title="Некорректный символ после «&lt;». Вероятная причина: Неэкранированный «&lt;». Попробуйте экранировать его как «&amp;lt;».">&lt;-</span><span> c("5",7,12)
<span id="line104"></span>&gt; v2[2] + 2[3]
<span id="line105"></span>Error in v2[2] + 2[3] : non-numeric argument to binary operator
<span id="line106"></span>```
<span id="line107"></span>
<span id="line108"></span>### Нельзя складывать численные и текстовые значения.
<span id="line109"></span>
<span id="line110"></span>```
<span id="line111"></span>&gt; df3 </span><span class="error" title="Некорректный символ после «&lt;». Вероятная причина: Неэкранированный «&lt;». Попробуйте экранировать его как «&amp;lt;».">&lt;-</span><span> data.frame(z1="5",z2=7,z3=12)
<span id="line112"></span>&gt; df3[1,2] + df3[1,3]
<span id="line113"></span>[1] 19
<span id="line114"></span>```
<span id="line115"></span>
<span id="line116"></span>### Производится сложение z2 и z3
<span id="line117"></span>
<span id="line118"></span>```
<span id="line119"></span>&gt; l4 </span><span class="error" title="Некорректный символ после «&lt;». Вероятная причина: Неэкранированный «&lt;». Попробуйте экранировать его как «&amp;lt;».">&lt;-</span><span> list(z1="6", z2=42, z3="49", z4=126)
<span id="line120"></span>&gt; l4[[2]] + l4[[4]]
<span id="line121"></span>[1] 168
<span id="line122"></span>&gt; l4[2] + l4[4]
<span id="line123"></span>Error in l4[2] + l4[4] : non-numeric argument to binary operator
<span id="line124"></span>```
<span id="line125"></span>
<span id="line126"></span>### Сначала мы складываем значения 42 и 126, поэтому все работает. Затем мы складываем значения типа list и получаем ошибку. 
<span id="line127"></span>
<span id="line128"></span># Работа с функциями и операторами
<span id="line129"></span>
<span id="line130"></span>1. Оператор двоеточие создаёт последовательность целых чисел по порядку. Этот оператор — частный случай функции seq(), которую вы использовали раньше. Изучите эту функцию, вызвав команду ?seq. Испольуя полученные знания выведите на экран: 
<span id="line131"></span>i. Числа от 1 до 10000 с инкрементом 372.
<span id="line132"></span>  
<span id="line133"></span>```
<span id="line134"></span>&gt; res </span><span class="error" title="Некорректный символ после «&lt;». Вероятная причина: Неэкранированный «&lt;». Попробуйте экранировать его как «&amp;lt;».">&lt;-</span><span> seq(1, 10000, by=372)
<span id="line135"></span>&gt; res
<span id="line136"></span> [1]    1  373  745 1117 1489 1861 2233 2605 2977 3349 3721 4093 4465 4837
<span id="line137"></span>[15] 5209 5581 5953 6325 6697 7069 7441 7813 8185 8557 8929 9301 9673
<span id="line138"></span>```
<span id="line139"></span>ii. Числа от 1 до 10000 длиной 50.
<span id="line140"></span>
<span id="line141"></span>```
<span id="line142"></span>&gt; res1 </span><span class="error" title="Некорректный символ после «&lt;». Вероятная причина: Неэкранированный «&lt;». Попробуйте экранировать его как «&amp;lt;».">&lt;-</span><span> seq(1, 10000, length.out = 50)
<span id="line143"></span>&gt; res1
<span id="line144"></span> [1]     1.0000   205.0612   409.1224   613.1837   817.2449  1021.3061
<span id="line145"></span> [7]  1225.3673  1429.4286  1633.4898  1837.5510  2041.6122  2245.6735
<span id="line146"></span>[13]  2449.7347  2653.7959  2857.8571  3061.9184  3265.9796  3470.0408
<span id="line147"></span>[19]  3674.1020  3878.1633  4082.2245  4286.2857  4490.3469  4694.4082
<span id="line148"></span>[25]  4898.4694  5102.5306  5306.5918  5510.6531  5714.7143  5918.7755
<span id="line149"></span>[31]  6122.8367  6326.8980  6530.9592  6735.0204  6939.0816  7143.1429
<span id="line150"></span>[37]  7347.2041  7551.2653  7755.3265  7959.3878  8163.4490  8367.5102
<span id="line151"></span>[43]  8571.5714  8775.6327  8979.6939  9183.7551  9387.8163  9591.8776
<span id="line152"></span>[49]  9795.9388 10000.0000
<span id="line153"></span>```
<span id="line154"></span>
<span id="line155"></span>2. Функция rep() повторяет переданный вектор указанное число раз. Объясните разницу между rep(1:5,times=3) и rep(1:5, each=3).
<span id="line156"></span>
<span id="line157"></span>```
<span id="line158"></span>&gt; rep(1:5,times=3)
<span id="line159"></span> [1] 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5
<span id="line160"></span>&gt; rep(1:5, each=3)
<span id="line161"></span> [1] 1 1 1 2 2 2 3 3 3 4 4 4 5 5 5
<span id="line162"></span>```
<span id="line163"></span>
<span id="line164"></span>### в первом случае последовательность от 1 до 5 выводится 3 раза, а во втором случае каждое из чисел последовательности повторяется 3 раза перед выводом следующего. </span></pre><menu type="context" id="actions"><menuitem id="goToLine" label="Перейти к строке…" accesskey="е"></menuitem><menuitem id="wrapLongLines" label="Переносить длинные строки" type="checkbox"></menuitem><menuitem id="highlightSyntax" label="Подсветка синтаксиса" type="checkbox" checked="true"></menuitem></menu></body></html>